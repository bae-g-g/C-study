# Function #2 (Function Pointer Variable)

# **Function Pointer Variable ν•¨μ ν¬μΈν„° λ³€μ**

## **Concept κ°λ…**
ν•¨μ ν¬μΈν„° λ³€μ = ν•¨μμ μ£Όμ†κ°’(Code Sectorμ— μ„μΉ) μ΄κΈ°ν™” ν¬μΈν„° λ³€μ

#### Concept #1
*   ν•¨μ(μμ²΄) β‰’ ν•¨μμ μ£Όμ†κ°’
*   ν•¨μ(μμ²΄) β‰  ν•¨μμ μ£Όμ†κ°’
Ref)
int a = 10; // a = 10 (a μ£Όμ†κ°’ δΈ‹μ— 10μ΄ μ΄κΈ°ν™” λμ–΄μλ” μλ―Έ O β aμ™€ 10μ΄ λ™μΌν•¨μ„ μλ―Έ X)

#### Concept #2
*   int λ³€μμ μ£Όμ†κ°’ μ΄κΈ°ν™” ν¬μΈν„° λ³€μ = int ν¬μΈν„° λ³€μ
*   char λ³€μμ μ£Όμ†κ°’ μ΄κΈ°ν™” ν¬μΈν„° λ³€μ = char ν¬μΈν„° λ³€μ
*   ν•¨μμ μ£Όμ†κ°’ μ΄κΈ°ν™” ν¬μΈν„° λ³€μ = ν•¨μ ν¬μΈν„° λ³€μ
Ref)
μλ£ν• ν¬μΈν„° λ³€μ μ£Όμ” μ©λ„
\= μ£Όμ†κ°’ ν†µν•΄ λ³€μμ— μ ‘κ·Ό ν›„ μ‚¬μ© (λ³€μ κ°’ νΈμ¶/λ³€κ²½)
ν•¨μ ν¬μΈν„° λ³€μ μ£Όμ” μ©λ„
\= μ£Όμ†κ°’ ν†µν•΄ ν•¨μμ— μ ‘κ·Ό ν›„ μ‚¬μ© (ν•¨μ νΈμ¶/~~λ³€κ²½~~)
β€» ~~λ³€κ²½~~
β“ ν•¨μ μ €μ¥ Code Sectorλ” (Stack Sectorμ— μ €μ¥λλ” λ³€μμ™€ λ‹¬λ¦¬) Compile μ΄ν›„ λ³€κ²½ ο¥§κ°€λ¥
β λ³€μ constμ™€ μ μ‚¬
β“‘ ν•¨μ ν¬μΈν„° λ³€μλ¥Ό ν†µν•΄ ν•¨μ νΈμ¶ κ°€λ¥
β ν•¨μ(μμ²΄) λ³€κ²½ ο¥§κ°€λ¥ (e.g. add ν•¨μ μμ²΄λ¥Ό remove ν•¨μλ΅ λ³€κ²½ ο¥§κ°€λ™)

## **Usage μ©λ„**
β‘  ν•¨μ ν¬μΈν„° λ³€μλ΅
ν•¨μ νΈμ¶/μ‹¤ν–‰

β‘΅ ν•¨μ ν¬μΈν„° λ³€μλ”
ν•¨μ ν¬μΈν„° λ³€μμ— μ΄κΈ°ν™”λ μ£Όμ†κ°’μ— ν•΄λ‹Ήν•λ” λ‹¤λ¥Έ ν•¨μλ¥Ό μ‹¤ν–‰

β‘Ά Call Back Function μ½λ°± ν•¨μ
λ©”μΈ ν•¨μ λ‚΄ ν•¨μ foo νΈμ¶μ μΈμμΈ ν•¨μ ν¬μΈν„° λ³€μλ¥Ό
ν•¨μ fooμ λ§¤κ° λ³€μλ΅ μ „λ‹¬ν•  λ•,
κ·Έ λ§¤κ° λ³€μμ— ν•΄λ‹Ήν•λ” ν•¨μ ν¬μΈν„° λ³€μμ— ν•΄λ‹Ήν•λ” ν•¨μ
\= μ½λ°± ν•¨μ

β€» μ½λ°± ν•¨μ
β‰’ μ½λ°± ν•¨μ μ£Όμ†κ°’
\= λ©”μΈ ν•¨μ λ‚΄ ν•¨μ foo νΈμ¶μ μΈμ
\= ν•¨μ fooμ λ§¤κ° λ³€μ

**func\_cb\_1.c**

```plain
μ½λ°± ν•¨μ(  )
{

}

function foo (λ§¤κ°λ³€μ = μ½λ°± ν•¨μ μ£Όμ†κ°’)
{
   μ½λ°± ν•¨μ μ‹¤ν–‰ μ½”λ“ // μ½λ°± ν•¨μμ μ£Όμ†κ°’μ„ μ‚¬μ©ν•λ” μ½”λ“ ν¬ν•¨
}


λ©”μΈ ν•¨μ
{

  foo (μΈμ = μ½λ°± ν•¨μ μ£Όμ†κ°’);

}


```

π… 02λ²μ§Έμ¤„ μ½λ°± ν•¨μμ— ν•΄λ‹Ήν•λ” ν•¨μκ°€ μκ³ 
π…‘ 16λ²μ§Έμ¤„ ν•¨μ fooμ μΈμλ΅ 02λ²μ§Έμ¤„ μ½λ°± ν•¨μμ μ£Όμ†κ°’μ„ μ „λ‹¬ λ°›μ•„
π…’ 07λ²μ§Έμ¤„ ν•¨μ fooλ¥Ό (02λ²μ§Έμ¤„ μ½λ°±ν•¨μμ μ£Όμ†κ°’μ„ λ§¤κ°λ³€μλ΅)μ‹¤ν–‰ν•λ©΄μ„
π…“ 09λ²μ§Έμ¤„ ν•¨μ fooμ μ½λ°± ν•¨μ μ‹¤ν–‰ μ½”λ“ (02λ²μ§Έμ¤„ μ½λ°±ν•¨μμ μ£Όμ†κ°’μ„ μ‚¬
μ© ν•λ” μ½”λ“ λ‚΄μ© ν¬ν•¨)λ¥Ό μ‹¤ν–‰

**Call Back Function Feature μ½λ°± ν•¨μ νΉμ§•**
β“ μ½λ°± ν•¨μ μλ£ν• = μΈμ μλ£ν• = λ§¤κ°λ³€μ μλ£ν•
β“‘ Call Back ν•¨μ β(μ§κ΄€μ  μ΄ν•΄)β Call After ν•¨μ
β“’ Cμ–Έμ–΄(μμ°¨μ  μ‘λ™) μ½λ°± ν•¨μ(λ™μ‹ μ‘λ™) μ‚¬μ© λΉλ²λ„ δΈ‹

**Call Back Function Usability μ½λ°± ν•¨μ μ μ©μ„±**
β“ Flexibility μ μ—°μ„±
β“‘ Modularity λ¨λ“μ„± (Blockfication λΈ”λ­ν™”)
β“’ Reusability μ¬μ‚¬μ©μ„±

β‘£ ν•¨μ μ‹¤ν–‰ μ¤‘ λ‹¤λ¥Έ ν•¨μ μƒμ„± (ν•¨μ ν¬μΈν„° λ³€μλ¥Ό ν•¨μ λ¦¬ν„΄κ°’μΌλ΅ μ‚¬μ©)

## **Declaration & Initialisation μ„ μ–Έ λ° μ΄κΈ°ν™”**

#### Procedure μ μ°¨
β‘  ν•¨μ μ„ μ–Έ
e.g., `void func( );`
β‘΅ ν•¨μ ν¬μΈν„° λ³€μ μ„ μ–Έ
e.g., `void (*func_ptr)( );`
β‘Ά ν•¨μ μ£Όμ†κ°’ μ΄κΈ°ν™”
e.g., `func_ptr = func` βµ ν•¨μ(μμ²΄) β‰’ ν•¨μμ μ£Όμ†κ°’
β‘£ ν•¨μ ν¬μΈν„° λ³€μλ¥Ό ν†µν•΄ ν•¨μ νΈμ¶(=μ‹¤ν–‰)
e.g., `func_ptr( );`

#### Data Type & The Number of Parameter μλ£ν• λ° λ§¤κ°λ³€μ κ°―μ
*   ν•¨μ(μμ²΄) μλ£ν• = ν•¨μ ν¬μΈν„° λ³€μ μλ£ν•
β“ Return κ°’ μλ£ν•
β“‘ λ§¤κ° λ³€μ μλ£ν•
*   ν•¨μ(μμ²΄) λ§¤κ° λ³€μ κ°―μ = ν•¨μ ν¬μΈν„° λ³€μ λ§¤κ° λ³€μ κ°―μ
E.g)
*   ν•¨μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #1

: void func( );

ν•¨μ ν¬μΈν„° λ³€μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #1

: void (\*func\_ptr)( );

*   ν•¨μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #2

: int func( );

ν•¨μ ν¬μΈν„° λ³€μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #2

: int (\*func\_ptr)( );

*   ν•¨μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #3

: int func(int x, int y);

ν•¨μ ν¬μΈν„° λ³€μ μλ£ν• λ° λ§¤κ° λ³€μ κ°―μ #3

: int (\*func\_ptr)(int, int);

#### ν•¨μ(μμ²΄) β‰’ ν•¨μμ μ£Όμ†κ°’
ν•¨μ μ£Όμ†κ°’ μ¶λ ¥
ν•¨μ ε(μμ²΄)μΌλ΅ κ°’ μ¶λ ¥
κΈ°κ³„μ–΄λ΅ μ €μ¥λ Code Sectorμ ν•¨μ μ£Όμ†κ°’ μ¶λ ¥
β΄ ν•¨μ(μμ²΄) β‰’ ν•¨μμ μ£Όμ†κ°’
**func\_cb\_2.c**

```cpp
#include <stdio.h>

void version_info()
{
    printf("version 1 app\n");
    return;
}

int main()
{
    printf("functionμ μ£Όμ†: %d\n", version_info);
    printf("functionμ size: %d\n", sizeof(version_info));  

// μ™ Sizeκ°€ 1 ByteμΈκ°€? μ£Όμ†κ°’ = ν•¨μ ν¬μΈν„° λ³€μ ν¬κΈ° 8 Bytes μ•„λ‹κ°€? 
// ν•¨μ μμ²΄  β‰’  ν•¨μμ μ£Όμ†κ°’
// ν•¨μμμ²΄λ” L-Value (e.g., λ³€μ A), ν•¨μ μ£Όμ†κ°’μ€ R-Value (e.g., κ°€λ¦¬ν‚¤λ” κ°’ 10) 

//  Code(Text) Sectorμ— κΈ°κ³„μ–΄ ν•νƒλ΅ μ΄κΈ°ν™”λ ν•¨μμ μ£Όμ†κ°’ μ¶λ ¥ 
//  = ν•¨μλ„ λ³€μμ²λΌ ν• λ‹Ή κ³µκ°„μ„ κ°€μ§€κ³  μμ
//    Code Sector β(X)β Stack Sector: ν•¨μ νΈμ¶/μ‹¤ν–‰μ„ ν•μ§€ μ•μ•μΌλ―€λ΅ Stack Sectorμ— ν• λ‹Ή X
}


```

####   

#### Function & Address
ν•¨μ ν¬μΈν„° λ³€μμ Sizeλ” OS μ΄μμ²΄μ μ— λ”°λΌ μƒμ΄
μ΄μμ²΄μ  λ§λ‹¤ ν¬μΈν„° λ³€μ ν¬κΈ°κ°€ λ‹¤λ¥Έ κ²ƒκ³Ό λ™μΌ λ§¥λ½
[![](https://t9003081320.p.clickup-attachments.com/t9003081320/5bfdae41-b87d-40d7-9eef-52e7597c5dcd/image.png)](https://cboard.cprogramming.com/c-programming/108747-size-function-pointer.html)

#### L-Value vs R-Value
*   L-Value(_l-value_)

(μ°Έμ΅°ν•λ”/κ°€λ¦¬ν‚¤λ” κ°’)μ°Έμ΅°ν•λ”/κ°€λ¦¬ν‚¤λ” μ£Όμ²΄ = λ³€μ μμ²΄

*   R-Value(_r-value_)

(μ„μ‹ μ΄κΈ°ν™” κ°’)μ°Έμ΅°ν•λ”/κ°€λ¦¬ν‚¤λ” κ°’ = λ³€μ μ΄κΈ°ν™” κ°’

E.g)
int A = 10;
A = A + 10; //Β  μ¤λ¥Έμ½μ— μμΌλ―€λ΅ λ³€μ Aκ°€ μ•„λ‹λΌ λ³€μκ°’ 10μ„ μλ―Έ
Ref)
*   μ™Όμ½ = λ³€μ
*   μ¤λ¥Έμ½ = μ΄κΈ°ν™” κ°’ (λ³€με ν•μ‹μ„ μ·¨ν•λ”λΌλ„ μ΄κΈ°ν™” κ°’, e.g., A)
β΄
*   ν•¨μ(μμ²΄) = ν•¨με λ³€μ = L-Value(_l-value_)
*   ν•¨μ(μμ²΄) μ¶λ ¥κ°’ = ν•¨με λ³€μ μ£Όμ†κ°’ = R-Value(_r-value_)
β€»
L-Value(_l-value_) Conversion ν•λ³€ν™μ΄ μΌμ–΄λ‚λ” κ²½μ°

* * *

Usage #1 ([https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6498](https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6498))

Usage #2 ([https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6578](https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6578))

Usage #3 ([https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6538](https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6538))

Usage #4 ([https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6558](https://doc.clickup.com/d/h/8ca07k8-22/5cfed3da07fe658/8ca07k8-6558))